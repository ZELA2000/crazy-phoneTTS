# Azure Speech Services Configuration
# Copia questo file in .env e inserisci le tue credenziali Azure

# ==========================================
# CONFIGURAZIONE OBBLIGATORIA
# ==========================================

# Chiave Azure Speech Services
# Ottieni questa chiave dal portale Azure > Speech Services > Keys and Endpoint
AZURE_SPEECH_KEY=your-azure-speech-key-here

# Region Azure dove è stata creata la risorsa Speech Services
# Esempi: italynorth, westeurope, eastus, southeastasia, etc.
# Per l'Italia: italynorth (consigliata per performance ottimali)
AZURE_SPEECH_REGION=italynorth

# ==========================================
# CONFIGURAZIONE OPZIONALE
# ==========================================

# Endpoint personalizzato (solo se usi un endpoint privato)
# Per servizi Azure personalizzati, inserisci l'URL completo
# Esempio: https://text-to-speach-example.cognitiveservices.azure.com/
AZURE_SPEECH_ENDPOINT=your-custom-endpoint

# Timeout connessione in secondi (default: 30, aziendali: 60)
AZURE_CONNECTION_TIMEOUT=30

# Timeout richiesta in secondi (default: 60, aziendali: 120)
AZURE_REQUEST_TIMEOUT=60

# Numero massimo di retry (default: 3, aziendali: 5)
AZURE_MAX_RETRIES=3

# Delay tra retry in secondi (default: 2.0)
AZURE_RETRY_DELAY=2.0

# ==========================================
# CONFIGURAZIONE PER AMBIENTI AZIENDALI
# ==========================================

# Se hai problemi di timeout (firewall/proxy aziendali), usa:
# AZURE_CONNECTION_TIMEOUT=60
# AZURE_REQUEST_TIMEOUT=120
# AZURE_MAX_RETRIES=5
# AZURE_RETRY_DELAY=3.0

# ==========================================
# ISTRUZIONI PER OTTENERE LE CREDENZIALI
# ==========================================

# 1. Vai al portale Azure: https://portal.azure.com
# 2. Crea una nuova risorsa "Speech Services" o usa una esistente
# 3. Vai su "Keys and Endpoint" nella tua risorsa Speech Services
# 4. Copia "KEY 1" e incollala in AZURE_SPEECH_KEY
# 5. Copia "Location/Region" e incollala in AZURE_SPEECH_REGION
# 6. Salva questo file come .env nella cartella root del progetto

# ==========================================
# VERIFICA CONFIGURAZIONE
# ==========================================

# Dopo aver configurato le variabili:
# 1. Riavvia Docker Compose: docker-compose down && docker-compose up --build
# 2. Controlla i log per verificare: "Azure Speech Services: ✓ Connection verified"
# 3. Testa la connessione su: http://localhost:8000/health

# ==========================================
# TROUBLESHOOTING
# ==========================================

# Errore "authentication failed":
# - Verifica che AZURE_SPEECH_KEY sia corretta
# - Controlla che la risorsa Azure sia attiva
# - Assicurati di aver copiato KEY 1 (non KEY 2)

# Errore "region not found":
# - Verifica che AZURE_SPEECH_REGION corrisponda alla region della risorsa
# - Usa il nome breve (es: westeurope, non West Europe)

# Errore "quota exceeded":
# - Controlla l'uso nel portale Azure
# - Verifica di non aver superato il limite gratuito (1M caratteri/mese)

# Errore "connection timeout":
# - Verifica la connessione internet
# - Prova ad aumentare AZURE_CONNECTION_TIMEOUT
# - Controlla firewall/proxy aziendale